# Real-time Raw Bitmap Streaming over WebSockets

This project is a proof-of-concept demonstrating the streaming of uncompressed, raw RGBA bitmap data from a Python server to a web browser client using WebSockets. It bypasses traditional video codecs (like H.264) to test the performance and viability of sending raw frame data directly.

## How It Works

1. **`websocket_video_server.py`**: This Python script starts a WebSocket server. When a client connects and sends a "start" message, the server begins generating video frames in real-time. Each frame is a NumPy array of RGBA values, which is then converted to raw bytes and sent over the WebSocket connection. The frame rate is capped on the server side to provide a consistent stream.

2. **`index.html`**: This is the client-side application that runs in the browser. It contains:
    * **HTML**: A user interface with a `<canvas>` element for video display, a dropdown to select the stream resolution, and start/stop buttons.
    * **CSS (Tailwind)**: For modern styling and a responsive layout.
    * **JavaScript**: The core logic that connects to the Python WebSocket server. It's configured to receive binary data as an `ArrayBuffer`. When a message (a video frame) arrives, it wraps the `ArrayBuffer` in a `Uint8ClampedArray`, creates an `ImageData` object, and efficiently draws it onto the canvas using `createImageBitmap` and `drawImage`. It also includes performance metrics to display the current FPS and data rate.

## Requirements

* **Python 3.7+**
* The following Python libraries: `websockets` and `numpy`.
* A modern web browser that supports WebSockets and the Canvas API (e.g., Chrome, Firefox, Edge).

## How to Run the Experiment

1. **Install Python Dependencies:**
    Open your terminal or command prompt and install the required libraries.

    ```bash
    pip install websockets numpy
    ```

2. **Start the Python Server:**
    Navigate to the directory containing these files and run the server script.

    ```bash
    python websocket_video_server.py
    ```

    You should see a log message indicating that the server has started on `ws://localhost:8765`.

3. **Open the Client:**
    Open the `index.html` file in your web browser. You can usually do this by double-clicking the file.

4. **Start Streaming:**
    * Choose your desired resolution from the dropdown menu.
    * Click the "Start Stream" button.

The canvas should immediately begin displaying the animated pattern generated by the Python script. The status, FPS, and data rate monitors will update in real-time. You can stop the stream at any time with the "Stop Stream" button.

## Experiment Observations

This setup allows you to observe a few key things:

* **CPU Usage**: Check your system's task manager. The browser's CPU usage may be high, as it's doing the work of rendering raw image data for every frame without the help of hardware-accelerated video decoding.
* **Network Bandwidth**: The data rate will be very high compared to a standard compressed video stream. For example, a 1080p frame (1920x1080) at 30fps with 4 bytes per pixel (RGBA) is `1920 * 1080 * 4 * 30` bytes per second, which is approximately **237 MB/s**! This demonstrates why video codecs are essential for streaming over the internet.
* **Latency**: While not explicitly measured here, the latency should be relatively low since there is no encoding or decoding overhead.
